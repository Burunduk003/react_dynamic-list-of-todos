{"version":3,"sources":["components/TodoList/TodoList.jsx","api/api.js","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["TodoList","state","completed","filterTodosByTitle","target","filtered","props","todos","filter","todo","title","includes","value","setState","filterTodosByСompleteness","String","Randomize","rendom","sort","Math","random","this","onUserSelected","todoID","selectedUserId","className","type","onChange","name","onClick","map","classNames","key","id","checked","readOnly","userId","Component","defaultProps","getAll","url","fetch","then","response","ok","Error","status","statusText","json","CurrentUser","user","loadData","a","prepearedUser","data","prevProps","clearUserSelection","email","phone","App","prepearedTodos","React","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.91a72cae.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nexport class TodoList extends Component {\n  state = {\n    completed: 'all',\n  }\n\n  filterTodosByTitle = ({ target }) => {\n    const { todos } = this.props;\n    const filtered = todos\n      .filter(todo => todo.title && todo.title.includes(target.value));\n\n    this.setState({\n      todos: filtered,\n    });\n  }\n\n  filterTodosByСompleteness = ({ target }) => {\n    const { todos } = this.props;\n\n    if (target.value === 'all') {\n      this.setState({\n        completed: target.value,\n        todos,\n      });\n    } else {\n      const filtered = todos\n        .filter(todo => String(todo.completed) === target.value);\n\n      this.setState({\n        completed: target.value,\n        todos: filtered,\n      });\n    }\n  }\n\n  Randomize = () => {\n    const { todos } = this.props;\n    const rendom = [...todos].sort(() => 0.5 - Math.random());\n\n    this.setState({\n      todos: rendom,\n    });\n  }\n\n  render() {\n    const { onUserSelected, todoID, selectedUserId } = this.props;\n    const { completed } = this.state;\n    const todos = this.state.todos || this.props.todos;\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n\n        <div className=\"TodoList__list-container\">\n          <div className=\"TodoList__form\">\n            <input\n              className=\"TodoList__search\"\n              type=\"text\"\n              onChange={this.filterTodosByTitle}\n            />\n            <select\n              className=\"TodoList__search\"\n              name=\"completed\"\n              value={completed}\n              onChange={this.filterTodosByСompleteness}\n            >\n              <option value=\"all\">all</option>\n              <option value=\"false\">active</option>\n              <option value=\"true\">completed</option>\n            </select>\n            <button\n              type=\"button\"\n              onClick={this.Randomize}\n            >\n              Randomize\n            </button>\n          </div>\n          <ul className=\"TodoList__list\">\n            {todos.map(todo => (\n              <li\n                className={\n                  classNames('TodoList__item TodoList__item--checked', {\n                    'TodoList__item--unchecked': !todo.completed,\n                  })\n                }\n                key={todo.id}\n              >\n                <label>\n                  <input\n                    checked={todo.completed}\n                    type=\"checkbox\"\n                    readOnly\n                  />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className={classNames('TodoList__user-button button', {\n                    'TodoList__user-button--selected':\n                    todo.id === todoID && selectedUserId !== 0,\n                  })}\n                  type=\"button\"\n                  onClick={() => onUserSelected(todo.userId, todo.id)}\n                >\n                  User&nbsp;#\n                  {todo.userId}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    userId: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    completed: PropTypes.bool.isRequired,\n  })),\n  onUserSelected: PropTypes.func.isRequired,\n  todoID: PropTypes.number.isRequired,\n  selectedUserId: PropTypes.number.isRequired,\n};\n\nTodoList.defaultProps = {\n  todos: [],\n};\n","// eslint-disable-next-line\nconst API_URL = `https://mate-api.herokuapp.com/`;\n\nexport function getAll(url) {\n  return fetch(`${API_URL}${url}`)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return response.json();\n    });\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './CurrentUser.scss';\nimport '../../styles/general.scss';\nimport { getAll } from '../../api';\n\nexport class CurrentUser extends Component {\n  state = {\n    user: {},\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.userId !== this.props.userId) {\n      this.loadData();\n    }\n  }\n\n  loadData = async() => {\n    const { userId } = this.props;\n    const prepearedUser = await getAll(`users/${userId}`);\n\n    this.setState({\n      user: prepearedUser.data,\n    });\n  }\n\n  render() {\n    const { user } = this.state;\n    const { clearUserSelection } = this.props;\n\n    return (\n      <>\n        {!user ? (<div>Loading...</div>) : (\n          <div className=\"CurrentUser\">\n            <h2 className=\"CurrentUser__title\">\n              <span>\n                Selected user:\n                {' '}\n                {user.id}\n              </span>\n            </h2>\n\n            <h3 className=\"CurrentUser__name\">{user.name}</h3>\n            <p className=\"CurrentUser__email\">{user.email}</p>\n            <p className=\"CurrentUser__phone\">{user.phone}</p>\n            <button\n              className=\"CurrentUser__clear button\"\n              type=\"button\"\n              onClick={clearUserSelection}\n            >\n              Clear\n            </button>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  clearUserSelection: PropTypes.func.isRequired,\n  userId: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getAll } from './api';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n    todoID: 0,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData = async() => {\n    const prepearedTodos = await getAll('todos');\n\n    this.setState({\n      todos: prepearedTodos.data,\n    });\n  }\n\n  onUserSelected = (userId, todoID) => {\n    this.setState({\n      selectedUserId: userId,\n      todoID,\n    });\n  }\n\n  clearUserSelection = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  }\n\n  render() {\n    const { todos, selectedUserId, todoID } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            todoID={todoID}\n            selectedUserId={selectedUserId}\n            onUserSelected={this.onUserSelected}\n            filterTodosByTitle={this.filterTodosByTitle}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clearUserSelection={this.clearUserSelection}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}